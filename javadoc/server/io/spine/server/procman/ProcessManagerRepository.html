<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun May 13 14:52:35 UTC 2018 -->
<title>ProcessManagerRepository (server 0.10.36-SNAPSHOT API)</title>
<meta name="date" content="2018-05-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ProcessManagerRepository (server 0.10.36-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/spine/server/procman/ProcessManagerRepository.html" target="_top">Frames</a></li>
<li><a href="ProcessManagerRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.io.spine.server.entity.EventDispatchingRepository">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.spine.server.procman</div>
<h2 title="Class ProcessManagerRepository" class="title">Class ProcessManagerRepository&lt;I,P extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;I,S,?&gt;,S extends com.google.protobuf.Message&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">io.spine.server.entity.Repository</a>&lt;I,E&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">io.spine.server.entity.RecordBasedRepository</a>&lt;I,E,S&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html" title="class in io.spine.server.entity">io.spine.server.entity.DefaultRecordBasedRepository</a>&lt;I,E,S&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">io.spine.server.entity.EventDispatchingRepository</a>&lt;I,P,S&gt;</li>
<li>
<ul class="inheritance">
<li>io.spine.server.procman.ProcessManagerRepository&lt;I,P,S&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>I</code> - the type of IDs of process managers</dd>
<dd><code>P</code> - the type of process managers</dd>
<dd><code>S</code> - the type of process manager state messages</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../io/spine/server/bus/MessageDispatcher.html" title="interface in io.spine.server.bus">MessageDispatcher</a>&lt;io.spine.core.EventClass,io.spine.core.EventEnvelope,java.util.Set&lt;I&gt;&gt;, <a href="../../../../io/spine/server/bus/MulticastDispatcher.html" title="interface in io.spine.server.bus">MulticastDispatcher</a>&lt;io.spine.core.EventClass,io.spine.core.EventEnvelope,I&gt;, <a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html" title="interface in io.spine.server.commandbus">CommandDispatcherDelegate</a>&lt;I&gt;, <a href="../../../../io/spine/server/delivery/Shardable.html" title="interface in io.spine.server.delivery">Shardable</a>, <a href="../../../../io/spine/server/entity/RepositoryView.html" title="interface in io.spine.server.entity">RepositoryView</a>&lt;I,P&gt;, <a href="../../../../io/spine/server/event/EventDispatcher.html" title="interface in io.spine.server.event">EventDispatcher</a>&lt;I&gt;, <a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html" title="interface in io.spine.server.rejection">RejectionDispatcherDelegate</a>&lt;I&gt;, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ProcessManagerRepository&lt;I,P extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;I,S,?&gt;,S extends com.google.protobuf.Message&gt;</span>
extends <a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;I,P,S&gt;
implements <a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html" title="interface in io.spine.server.commandbus">CommandDispatcherDelegate</a>&lt;I&gt;, <a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html" title="interface in io.spine.server.rejection">RejectionDispatcherDelegate</a>&lt;I&gt;, <a href="../../../../io/spine/server/delivery/Shardable.html" title="interface in io.spine.server.delivery">Shardable</a></pre>
<div class="block">The abstract base for Process Managers repositories.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman"><code>ProcessManager</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.io.spine.server.entity.EventDispatchingRepository">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.AbstractExternalEventDispatcher.html" title="class in io.spine.server.entity">EventDispatchingRepository.AbstractExternalEventDispatcher</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.io.spine.server.event.EventDispatcher">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;io.spine.server.event.<a href="../../../../io/spine/server/event/EventDispatcher.html" title="interface in io.spine.server.event">EventDispatcher</a></h3>
<code><a href="../../../../io/spine/server/event/EventDispatcher.Error.html" title="enum in io.spine.server.event">EventDispatcher.Error</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.io.spine.server.bus.MulticastDispatcher">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;io.spine.server.bus.<a href="../../../../io/spine/server/bus/MulticastDispatcher.html" title="interface in io.spine.server.bus">MulticastDispatcher</a></h3>
<code><a href="../../../../io/spine/server/bus/MulticastDispatcher.Identity.html" title="class in io.spine.server.bus">MulticastDispatcher.Identity</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#ProcessManagerRepository--">ProcessManagerRepository</a></span>()</code>
<div class="block">Creates a new instance with the event routing by the first message field.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#close--">close</a></span>()</code>
<div class="block">Closes the repository by closing the underlying storage.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#dispatch-io.spine.core.EventEnvelope-">dispatch</a></span>(io.spine.core.EventEnvelope&nbsp;event)</code>
<div class="block">Dispatches the event to a corresponding process manager.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#dispatchCommand-io.spine.core.CommandEnvelope-">dispatchCommand</a></span>(io.spine.core.CommandEnvelope&nbsp;command)</code>
<div class="block">Dispatches the command to a corresponding process manager.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#dispatchRejection-io.spine.core.RejectionEnvelope-">dispatchRejection</a></span>(io.spine.core.RejectionEnvelope&nbsp;rejection)</code>
<div class="block">Dispatches the rejection to one or more subscribing process managers.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#findOrCreate-I-">findOrCreate</a></span>(<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&nbsp;id)</code>
<div class="block">Loads or creates a process manager by the passed ID.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>io.spine.core.BoundedContextName</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getBoundedContextName--">getBoundedContextName</a></span>()</code>
<div class="block">Obtains the name of the <a href="../../../../io/spine/server/BoundedContext.html" title="class in io.spine.server">bounded context</a>, in scope
 of which the current <code>Shardable</code> operates.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;io.spine.core.CommandClass&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getCommandClasses--">getCommandClasses</a></span>()</code>
<div class="block">Obtains a set of classes of commands handled by process managers of this repository.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/procman/PmCommandDelivery.html" title="class in io.spine.server.procman">PmCommandDelivery</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getCommandEndpointDelivery--">getCommandEndpointDelivery</a></span>()</code>
<div class="block">Defines a strategy of command delivery applied to the instances managed by this repository.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/route/CommandRouting.html" title="class in io.spine.server.route">CommandRouting</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getCommandRouting--">getCommandRouting</a></span>()</code>
<div class="block">Obtains command routing schema used by this repository.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/procman/PmEventDelivery.html" title="class in io.spine.server.procman">PmEventDelivery</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getEventEndpointDelivery--">getEventEndpointDelivery</a></span>()</code>
<div class="block">Defines a strategy of event delivery applied to the instances managed by this repository.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/integration/ExternalMessageDispatcher.html" title="interface in io.spine.server.integration">ExternalMessageDispatcher</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getExternalEventDispatcher--">getExternalEventDispatcher</a></span>()</code>
<div class="block">Obtains an external event dispatcher for this repository.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;io.spine.core.RejectionClass&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getExternalRejectionClasses--">getExternalRejectionClasses</a></span>()</code>
<div class="block">Obtains a set of external rejection classes on which process managers of
 this repository are subscribed.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;io.spine.core.EventClass&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getMessageClasses--">getMessageClasses</a></span>()</code>
<div class="block">Obtains a set of event classes on which process managers of this repository are subscribed.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;<a href="../../../../io/spine/server/delivery/ShardedStreamConsumer.html" title="interface in io.spine.server.delivery">ShardedStreamConsumer</a>&lt;?,?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getMessageConsumers--">getMessageConsumers</a></span>()</code>
<div class="block">Obtains all the message consumers for this <code>Shardable</code>.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/procman/ProcessManagerClass.html" title="class in io.spine.server.procman">ProcessManagerClass</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getModelClass-java.lang.Class-">getModelClass</a></span>(java.lang.Class&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;cls)</code>
<div class="block">Obtains a model class for the passed entity class value.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;io.spine.core.RejectionClass&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getRejectionClasses--">getRejectionClasses</a></span>()</code>
<div class="block">Obtains a set of rejection classes on which process managers of
 this repository are subscribed.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/procman/PmRejectionDelivery.html" title="class in io.spine.server.procman">PmRejectionDelivery</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getRejectionEndpointDelivery--">getRejectionEndpointDelivery</a></span>()</code>
<div class="block">Defines a strategy of rejection delivery applied to the instances managed by this repository.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/route/RejectionRouting.html" title="class in io.spine.server.route">RejectionRouting</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getRejectionRouting--">getRejectionRouting</a></span>()</code>
<div class="block">Obtains rejection routing schema used by this repository.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../io/spine/server/procman/ProcessManagerClass.html" title="class in io.spine.server.procman">ProcessManagerClass</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getShardedModelClass--">getShardedModelClass</a></span>()</code>
<div class="block">Obtains the class of <a href="../../../../io/spine/server/entity/Entity.html" title="interface in io.spine.server.entity">Entity</a> which is served by
 this shardable.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../io/spine/server/delivery/ShardingStrategy.html" title="interface in io.spine.server.delivery">ShardingStrategy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#getShardingStrategy--">getShardingStrategy</a></span>()</code>
<div class="block">Defines the strategy of the sharding.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#onError-io.spine.core.CommandEnvelope-java.lang.RuntimeException-">onError</a></span>(io.spine.core.CommandEnvelope&nbsp;envelope,
       java.lang.RuntimeException&nbsp;exception)</code>
<div class="block">Handles an error occurred during command dispatching.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#onError-io.spine.core.RejectionEnvelope-java.lang.RuntimeException-">onError</a></span>(io.spine.core.RejectionEnvelope&nbsp;envelope,
       java.lang.RuntimeException&nbsp;exception)</code>
<div class="block">Handles an error occurred during rejection dispatching.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#onRegistered--">onRegistered</a></span>()</code>
<div class="block">The callback called by a <a href="../../../../io/spine/server/BoundedContext.html" title="class in io.spine.server"><code>BoundedContext</code></a> during the <a href="../../../../io/spine/server/BoundedContext.html#register-io.spine.server.entity.Repository-">registration</a> of the repository.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/procman/ProcessManagerRepository.html#registerAsEventDispatcher--">registerAsEventDispatcher</a></span>()</code>
<div class="block">Registers itself as <a href="../../../../io/spine/server/event/EventDispatcher.html" title="interface in io.spine.server.event"><code>EventDispatcher</code></a> if
 process managers of this repository are subscribed at least to one event.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.EventDispatchingRepository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#getEventRouting--">getEventRouting</a>, <a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#onError-io.spine.core.EventEnvelope-java.lang.RuntimeException-">onError</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.DefaultRecordBasedRepository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html" title="class in io.spine.server.entity">DefaultRecordBasedRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html#entityConverter--">entityConverter</a>, <a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html#entityFactory--">entityFactory</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.RecordBasedRepository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#create-I-">create</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#createStorage-io.spine.server.storage.StorageFactory-">createStorage</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#find-io.spine.client.EntityFilters-com.google.protobuf.FieldMask-">find</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#find-I-">find</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#iterator-com.google.common.base.Predicate-">iterator</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#loadAll--">loadAll</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#loadAll-java.lang.Iterable-">loadAll</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#loadAll-java.lang.Iterable-com.google.protobuf.FieldMask-">loadAll</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#recordStorage--">recordStorage</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#store-java.util.Collection-">store</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#store-E-">store</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#toRecord-E-">toRecord</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.Repository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">Repository</a></h3>
<code><a href="../../../../io/spine/server/entity/Repository.html#checkNotClosed--">checkNotClosed</a>, <a href="../../../../io/spine/server/entity/Repository.html#checkStorage-S-">checkStorage</a>, <a href="../../../../io/spine/server/entity/Repository.html#entityClass--">entityClass</a>, <a href="../../../../io/spine/server/entity/Repository.html#getBoundedContext--">getBoundedContext</a>, <a href="../../../../io/spine/server/entity/Repository.html#getEntityClass--">getEntityClass</a>, <a href="../../../../io/spine/server/entity/Repository.html#getEntityStateType--">getEntityStateType</a>, <a href="../../../../io/spine/server/entity/Repository.html#getIdClass--">getIdClass</a>, <a href="../../../../io/spine/server/entity/Repository.html#getStorage--">getStorage</a>, <a href="../../../../io/spine/server/entity/Repository.html#initStorage-io.spine.server.storage.StorageFactory-">initStorage</a>, <a href="../../../../io/spine/server/entity/Repository.html#isOpen--">isOpen</a>, <a href="../../../../io/spine/server/entity/Repository.html#isRegistered--">isRegistered</a>, <a href="../../../../io/spine/server/entity/Repository.html#isStorageAssigned--">isStorageAssigned</a>, <a href="../../../../io/spine/server/entity/Repository.html#log--">log</a>, <a href="../../../../io/spine/server/entity/Repository.html#logError-java.lang.String-io.spine.core.MessageEnvelope-java.lang.RuntimeException-">logError</a>, <a href="../../../../io/spine/server/entity/Repository.html#setBoundedContext-io.spine.server.BoundedContext-">setBoundedContext</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProcessManagerRepository--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProcessManagerRepository</h4>
<pre>protected&nbsp;ProcessManagerRepository()</pre>
<div class="block">Creates a new instance with the event routing by the first message field.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getModelClass-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModelClass</h4>
<pre>protected final&nbsp;<a href="../../../../io/spine/server/procman/ProcessManagerClass.html" title="class in io.spine.server.procman">ProcessManagerClass</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;getModelClass(java.lang.Class&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;cls)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html#getModelClass-java.lang.Class-">Repository</a></code></span></div>
<div class="block">Obtains a model class for the passed entity class value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/Repository.html#getModelClass-java.lang.Class-">getModelClass</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">Repository</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a> extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a>,?&gt;&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getShardedModelClass--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShardedModelClass</h4>
<pre>public&nbsp;<a href="../../../../io/spine/server/procman/ProcessManagerClass.html" title="class in io.spine.server.procman">ProcessManagerClass</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;getShardedModelClass()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html#getShardedModelClass--">Shardable</a></code></span></div>
<div class="block">Obtains the class of <a href="../../../../io/spine/server/entity/Entity.html" title="interface in io.spine.server.entity">Entity</a> which is served by
 this shardable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/delivery/Shardable.html#getShardedModelClass--">getShardedModelClass</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html" title="interface in io.spine.server.delivery">Shardable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the class of the <code>Entity</code>, which processing is being sharded
 in this <code>Shardable</code></dd>
</dl>
</li>
</ul>
<a name="onRegistered--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRegistered</h4>
<pre>public&nbsp;void&nbsp;onRegistered()</pre>
<div class="block">The callback called by a <a href="../../../../io/spine/server/BoundedContext.html" title="class in io.spine.server"><code>BoundedContext</code></a> during the <a href="../../../../io/spine/server/BoundedContext.html#register-io.spine.server.entity.Repository-">registration</a> of the repository.

 <p>If entities managed by this repository are <a href="../../../../io/spine/server/entity/VersionableEntity.html" title="interface in io.spine.server.entity">versionable</a>,
 registers itself as a type supplier with the <a href="../../../../io/spine/server/stand/Stand.html" title="class in io.spine.server.stand"><code>Stand</code></a> of the parent
 <a href="../../../../io/spine/server/entity/Repository.html#getBoundedContext--">parent</a> <code>BoundedContext</code>.

 <p>Caches <a href="../../../../io/spine/server/entity/storage/Column.html" title="annotation in io.spine.server.entity.storage"><code>Column</code></a> definitions of the <a href="../../../../io/spine/server/entity/Entity.html" title="interface in io.spine.server.entity"><code>Entity</code></a> class managed by this repository.

 <p><a href="../../../../io/spine/server/bus/Bus.html#register-D-">Registers</a> itself with the <code>EventBus</code> of the parent <code>BoundedContext</code>.

 <p>Registers with the <code>CommandBus</code> for dispatching commands
 (via <a href="../../../../io/spine/server/commandbus/DelegatingCommandDispatcher.html" title="class in io.spine.server.commandbus">delegating dispatcher</a>).

 <p>Registers with the <code>IntegrationBus</code> for dispatching external events and rejections.

 <p>Ensures there is at least one message handler declared by the class of the managed
 process manager:

 <ul>
     <li>command handler methods;</li>
     <li>domestic or external event reactor methods;</li>
     <li>domestic or external rejection reactor methods.</li>
 </ul>

 <p>Throws an <code>IllegalStateException</code> otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#onRegistered--">onRegistered</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a> extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a> extends com.google.protobuf.Message&gt;</code></dd>
</dl>
</li>
</ul>
<a name="registerAsEventDispatcher--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerAsEventDispatcher</h4>
<pre>protected&nbsp;void&nbsp;registerAsEventDispatcher()</pre>
<div class="block">Registers itself as <a href="../../../../io/spine/server/event/EventDispatcher.html" title="interface in io.spine.server.event"><code>EventDispatcher</code></a> if
 process managers of this repository are subscribed at least to one event.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#registerAsEventDispatcher--">registerAsEventDispatcher</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a> extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a> extends com.google.protobuf.Message&gt;</code></dd>
</dl>
</li>
</ul>
<a name="getMessageClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageClasses</h4>
<pre>public&nbsp;java.util.Set&lt;io.spine.core.EventClass&gt;&nbsp;getMessageClasses()</pre>
<div class="block">Obtains a set of event classes on which process managers of this repository are subscribed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/bus/MessageDispatcher.html#getMessageClasses--">getMessageClasses</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/bus/MessageDispatcher.html" title="interface in io.spine.server.bus">MessageDispatcher</a>&lt;io.spine.core.EventClass,io.spine.core.EventEnvelope,java.util.Set&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of event classes or empty set if process managers do not subscribe to events</dd>
</dl>
</li>
</ul>
<a name="getCommandClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandClasses</h4>
<pre>public&nbsp;java.util.Set&lt;io.spine.core.CommandClass&gt;&nbsp;getCommandClasses()</pre>
<div class="block">Obtains a set of classes of commands handled by process managers of this repository.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html#getCommandClasses--">getCommandClasses</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html" title="interface in io.spine.server.commandbus">CommandDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of command classes or empty set if process managers do not handle commands</dd>
</dl>
</li>
</ul>
<a name="getRejectionClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRejectionClasses</h4>
<pre>public&nbsp;java.util.Set&lt;io.spine.core.RejectionClass&gt;&nbsp;getRejectionClasses()</pre>
<div class="block">Obtains a set of rejection classes on which process managers of
 this repository are subscribed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html#getRejectionClasses--">getRejectionClasses</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html" title="interface in io.spine.server.rejection">RejectionDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of rejection classes or empty set if process managers
 are not subscribed to rejections</dd>
</dl>
</li>
</ul>
<a name="getExternalRejectionClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExternalRejectionClasses</h4>
<pre>public&nbsp;java.util.Set&lt;io.spine.core.RejectionClass&gt;&nbsp;getExternalRejectionClasses()</pre>
<div class="block">Obtains a set of external rejection classes on which process managers of
 this repository are subscribed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html#getExternalRejectionClasses--">getExternalRejectionClasses</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html" title="interface in io.spine.server.rejection">RejectionDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a set of external rejection classes or empty set if process managers
 are not subscribed to external rejections</dd>
</dl>
</li>
</ul>
<a name="getCommandRouting--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandRouting</h4>
<pre>protected final&nbsp;<a href="../../../../io/spine/server/route/CommandRouting.html" title="class in io.spine.server.route">CommandRouting</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&nbsp;getCommandRouting()</pre>
<div class="block">Obtains command routing schema used by this repository.</div>
</li>
</ul>
<a name="getRejectionRouting--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRejectionRouting</h4>
<pre>protected final&nbsp;<a href="../../../../io/spine/server/route/RejectionRouting.html" title="class in io.spine.server.route">RejectionRouting</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&nbsp;getRejectionRouting()</pre>
<div class="block">Obtains rejection routing schema used by this repository.</div>
</li>
</ul>
<a name="dispatchCommand-io.spine.core.CommandEnvelope-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatchCommand</h4>
<pre>public&nbsp;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&nbsp;dispatchCommand(io.spine.core.CommandEnvelope&nbsp;command)</pre>
<div class="block">Dispatches the command to a corresponding process manager.

 <p>If there is no stored process manager with such an ID,
 a new process manager is created and stored after it handles the passed command.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html#dispatchCommand-io.spine.core.CommandEnvelope-">dispatchCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html" title="interface in io.spine.server.commandbus">CommandDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>command</code> - a request to dispatch</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/spine/server/command/CommandHandlingEntity.html#dispatchCommand-io.spine.core.CommandEnvelope-"><code>CommandHandlingEntity.dispatchCommand(CommandEnvelope)</code></a></dd>
</dl>
</li>
</ul>
<a name="dispatch-io.spine.core.EventEnvelope-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatch</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&nbsp;dispatch(io.spine.core.EventEnvelope&nbsp;event)</pre>
<div class="block">Dispatches the event to a corresponding process manager.

 <p>If there is no stored process manager with such an ID, a new process manager is created
 and stored after it handles the passed event.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/bus/MessageDispatcher.html#dispatch-E-">dispatch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/bus/MessageDispatcher.html" title="interface in io.spine.server.bus">MessageDispatcher</a>&lt;io.spine.core.EventClass,io.spine.core.EventEnvelope,java.util.Set&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - the event to dispatch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ID(s) of entities to which the message was dispatched</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/spine/server/procman/ProcessManager.html#dispatchEvent-io.spine.core.EventEnvelope-"><code>ProcessManager.dispatchEvent(EventEnvelope)</code></a></dd>
</dl>
</li>
</ul>
<a name="dispatchRejection-io.spine.core.RejectionEnvelope-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatchRejection</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&nbsp;dispatchRejection(io.spine.core.RejectionEnvelope&nbsp;rejection)</pre>
<div class="block">Dispatches the rejection to one or more subscribing process managers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html#dispatchRejection-io.spine.core.RejectionEnvelope-">dispatchRejection</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html" title="interface in io.spine.server.rejection">RejectionDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rejection</code> - the rejection to dispatch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IDs of process managers who successfully consumed the rejection</dd>
</dl>
</li>
</ul>
<a name="onError-io.spine.core.CommandEnvelope-java.lang.RuntimeException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onError</h4>
<pre>public&nbsp;void&nbsp;onError(io.spine.core.CommandEnvelope&nbsp;envelope,
                    java.lang.RuntimeException&nbsp;exception)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html#onError-io.spine.core.CommandEnvelope-java.lang.RuntimeException-">CommandDispatcherDelegate</a></code></span></div>
<div class="block">Handles an error occurred during command dispatching.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html#onError-io.spine.core.CommandEnvelope-java.lang.RuntimeException-">onError</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/commandbus/CommandDispatcherDelegate.html" title="interface in io.spine.server.commandbus">CommandDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>envelope</code> - the event which caused the error</dd>
<dd><code>exception</code> - the error</dd>
</dl>
</li>
</ul>
<a name="onError-io.spine.core.RejectionEnvelope-java.lang.RuntimeException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onError</h4>
<pre>public&nbsp;void&nbsp;onError(io.spine.core.RejectionEnvelope&nbsp;envelope,
                    java.lang.RuntimeException&nbsp;exception)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html#onError-io.spine.core.RejectionEnvelope-java.lang.RuntimeException-">RejectionDispatcherDelegate</a></code></span></div>
<div class="block">Handles an error occurred during rejection dispatching.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html#onError-io.spine.core.RejectionEnvelope-java.lang.RuntimeException-">onError</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/rejection/RejectionDispatcherDelegate.html" title="interface in io.spine.server.rejection">RejectionDispatcherDelegate</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>envelope</code> - the rejection which caused the error</dd>
<dd><code>exception</code> - the error</dd>
</dl>
</li>
</ul>
<a name="findOrCreate-java.lang.Object-">
<!--   -->
</a><a name="findOrCreate-I-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findOrCreate</h4>
<pre>@CheckReturnValue
protected&nbsp;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&nbsp;findOrCreate(<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&nbsp;id)</pre>
<div class="block">Loads or creates a process manager by the passed ID.

 <p>The process manager is created if there was no manager with such an ID stored before.

 <p>The repository injects <code>CommandBus</code> from its <code>BoundedContext</code> into the
 instance of the process manager so that it can post commands if needed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#findOrCreate-I-">findOrCreate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a> extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a> extends com.google.protobuf.Message&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the ID of the process manager to load</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>loaded or created process manager instance</dd>
</dl>
</li>
</ul>
<a name="getEventEndpointDelivery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEventEndpointDelivery</h4>
<pre>@SPI
protected&nbsp;<a href="../../../../io/spine/server/procman/PmEventDelivery.html" title="class in io.spine.server.procman">PmEventDelivery</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;getEventEndpointDelivery()</pre>
<div class="block">Defines a strategy of event delivery applied to the instances managed by this repository.

 <p>By default uses direct delivery.

 <p>Descendants may override this method to redefine the strategy. In particular,
 it is possible to postpone dispatching of a certain event to a particular process manager
 instance at runtime.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>delivery strategy for events applied to the instances managed by this repository</dd>
</dl>
</li>
</ul>
<a name="getRejectionEndpointDelivery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRejectionEndpointDelivery</h4>
<pre>@SPI
protected&nbsp;<a href="../../../../io/spine/server/procman/PmRejectionDelivery.html" title="class in io.spine.server.procman">PmRejectionDelivery</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;getRejectionEndpointDelivery()</pre>
<div class="block">Defines a strategy of rejection delivery applied to the instances managed by this repository.

 <p>By default uses direct delivery.

 <p>Descendants may override this method to redefine the strategy. In particular,
 it is possible to postpone dispatching of a certain rejection to a particular process manager
 instance at runtime.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>delivery strategy for rejections</dd>
</dl>
</li>
</ul>
<a name="getCommandEndpointDelivery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommandEndpointDelivery</h4>
<pre>@SPI
protected&nbsp;<a href="../../../../io/spine/server/procman/PmCommandDelivery.html" title="class in io.spine.server.procman">PmCommandDelivery</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a>&gt;&nbsp;getCommandEndpointDelivery()</pre>
<div class="block">Defines a strategy of command delivery applied to the instances managed by this repository.

 <p>By default uses direct delivery.

 <p>Descendants may override this method to redefine the strategy. In particular,
 it is possible to postpone dispatching of a certain command to a particular process manager
 instance at runtime.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>delivery strategy for rejections</dd>
</dl>
</li>
</ul>
<a name="getExternalEventDispatcher--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExternalEventDispatcher</h4>
<pre>protected&nbsp;<a href="../../../../io/spine/server/integration/ExternalMessageDispatcher.html" title="interface in io.spine.server.integration">ExternalMessageDispatcher</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>&gt;&nbsp;getExternalEventDispatcher()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#getExternalEventDispatcher--">EventDispatchingRepository</a></code></span></div>
<div class="block">Obtains an external event dispatcher for this repository.

 <p>This method should be overridden by the repositories, which are eligible
 to handle external events. In this case the implementation would typically delegate
 the dispatching of external events to the repository itself.

 <p>Such a delegate-based approach is chosen, since it's not possible to make
 <code>EventDispatchingRepository</code> extend another
 <a href="../../../../io/spine/server/bus/MessageDispatcher.html" title="interface in io.spine.server.bus"><code>MessageDispatcher</code></a> interface due to clashes
 in the class hierarchy.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#getExternalEventDispatcher--">getExternalEventDispatcher</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a> extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a> extends com.google.protobuf.Message&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the external event dispatcher</dd>
</dl>
</li>
</ul>
<a name="getShardingStrategy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShardingStrategy</h4>
<pre>public&nbsp;<a href="../../../../io/spine/server/delivery/ShardingStrategy.html" title="interface in io.spine.server.delivery">ShardingStrategy</a>&nbsp;getShardingStrategy()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html#getShardingStrategy--">Shardable</a></code></span></div>
<div class="block">Defines the strategy of the sharding.

 <p>In particular, sets the rules on which message destination belongs to which shard.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/delivery/Shardable.html#getShardingStrategy--">getShardingStrategy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html" title="interface in io.spine.server.delivery">Shardable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the strategy of sharding for this <code>Shardable</code></dd>
</dl>
</li>
</ul>
<a name="getMessageConsumers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageConsumers</h4>
<pre>public&nbsp;java.lang.Iterable&lt;<a href="../../../../io/spine/server/delivery/ShardedStreamConsumer.html" title="interface in io.spine.server.delivery">ShardedStreamConsumer</a>&lt;?,?&gt;&gt;&nbsp;getMessageConsumers()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html#getMessageConsumers--">Shardable</a></code></span></div>
<div class="block">Obtains all the message consumers for this <code>Shardable</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/delivery/Shardable.html#getMessageConsumers--">getMessageConsumers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html" title="interface in io.spine.server.delivery">Shardable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all the consumers</dd>
</dl>
</li>
</ul>
<a name="getBoundedContextName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBoundedContextName</h4>
<pre>public&nbsp;io.spine.core.BoundedContextName&nbsp;getBoundedContextName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html#getBoundedContextName--">Shardable</a></code></span></div>
<div class="block">Obtains the name of the <a href="../../../../io/spine/server/BoundedContext.html" title="class in io.spine.server">bounded context</a>, in scope
 of which the current <code>Shardable</code> operates.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/delivery/Shardable.html#getBoundedContextName--">getBoundedContextName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../io/spine/server/delivery/Shardable.html" title="interface in io.spine.server.delivery">Shardable</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the bounded context</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html#close--">Repository</a></code></span></div>
<div class="block">Closes the repository by closing the underlying storage.

 <p>The reference to the storage becomes null after this call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/Repository.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">Repository</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">P</a> extends <a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman">ProcessManager</a>&lt;<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">I</a>,<a href="../../../../io/spine/server/procman/ProcessManagerRepository.html" title="type parameter in ProcessManagerRepository">S</a>,?&gt;&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/spine/server/procman/ProcessManager.html" title="class in io.spine.server.procman"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/spine/server/procman/ProcessManagerRepository.html" target="_top">Frames</a></li>
<li><a href="ProcessManagerRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.io.spine.server.entity.EventDispatchingRepository">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
